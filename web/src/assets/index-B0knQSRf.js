import{j as u,L as r}from"./semi-ui-C9AnQoBc.js";import{r as o}from"./react-core-B_rT1BcQ.js";import{A as E,b as d}from"./index-BAKq1-I6.js";import{m as p}from"./tools--jVf5iHv.js";import"./react-components-DHMQhW6Z.js";import"./i18n-CErUK-Hy.js";import"./semantic-Du-5yReK.js";const f=()=>{const[t,e]=o.useState(""),[n,i]=o.useState(!1),c=async()=>{e(localStorage.getItem("about")||"");const h=await E.get("/api/about"),{success:l,message:m,data:s}=h.data;if(l){let a=s;s.startsWith("https://")||(a=p.parse(s)),e(a),localStorage.setItem("about",a)}else d(m),e("加载关于内容失败...");i(!0)};return o.useEffect(()=>{c().then()},[]),u.jsx(u.Fragment,{children:n&&t===""?u.jsx(u.Fragment,{children:u.jsxs(r,{children:[u.jsx(r.Header,{children:u.jsx("h3",{children:"关于"})}),u.jsxs(r.Content,{children:[u.jsx("p",{children:"可在设置页面设置关于内容，支持 HTML & Markdown"}),"New-API项目仓库地址：",u.jsx("a",{href:"https://github.com/Calcium-Ion/new-api",children:"https://github.com/Calcium-Ion/new-api"}),u.jsx("p",{children:"NewAPI © 2023 CalciumIon | 基于 One API v0.5.4 © 2023 JustSong。"}),u.jsx("p",{children:"本项目根据MIT许可证授权，需在遵守Apache-2.0协议的前提下使用。"})]})]})}):u.jsx(u.Fragment,{children:t.startsWith("https://")?u.jsx("iframe",{src:t,style:{width:"100%",height:"100vh",border:"none"}}):u.jsx("div",{style:{fontSize:"larger"},dangerouslySetInnerHTML:{__html:t}})})})};export{f as default};
